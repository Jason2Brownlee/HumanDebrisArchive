<html>
<head><script type="text/javascript" src="/_static/js/bundle-playback.js?v=1WaXNDFE" charset="utf-8"></script>
<script type="text/javascript" src="/_static/js/wombat.js?v=txqj7nKC" charset="utf-8"></script>
<script type="text/javascript">
  __wm.init("https://web.archive.org/web");
  __wm.wombat("http://ai-depot.com:80/FiniteStateMachines/FSM-Background.html","20020918112651","https://web.archive.org/","web","/_static/",
	      "1032348411");
</script>
<link rel="stylesheet" type="text/css" href="/_static/css/banner-styles.css?v=S1zqJCYt" />
<link rel="stylesheet" type="text/css" href="/_static/css/iconochive.css?v=qtvMKcIJ" />
<!-- End Wayback Rewrite JS Include -->


<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="Author" content="Alex Champandard">

<link href="https://web.archive.org/web/20020918112651cs_/http://ai-depot.com/Style/Article.css" rel="stylesheet" type="text/css">

<title>Background</title>

</head>

<body>


<div class="main">

<table border="0" cellpadding="0" cellspacing="0" class="head">

<tr> 
	<td class="left">
		<a href="https://web.archive.org/web/20020918112651/http://ai-depot.com/"><img src="/web/20020918112651im_/http://ai-depot.com/Images/Logo-title.jpeg" alt="Artificial Intelligence Depot"></a>
		<div>
		Visiting guest. Why not <a href="https://web.archive.org/web/20020918112651/http://ai-depot.com/Messages/Account.html">sign in</a>?		</div>
 
	</td>
	<td>
		<table border="0" cellpadding="0" cellspacing="0" style="height: 128px;">
			<tr><td class="rtop">News, knowledge and discussion for the AI enthusiast.</td></tr>
			<tr><td class="rbot">
			<table cellpadding="0" cellspacing="0" border="0">
			<tr class="r">
							<td class="n" style="padding-left: 1ex;"><a href="/web/20020918112651/http://ai-depot.com/Features/">FEATURES</a></td>
								<td class="p" height="21"><img src="/web/20020918112651im_/http://ai-depot.com/Images/Pixel.gif" alt="" width="27" height="1"></td>
								<td class="n"><a href="/web/20020918112651/http://ai-depot.com/Messages/">COMMUNITY</a></td>
								<td class="p" height="21"><img src="/web/20020918112651im_/http://ai-depot.com/Images/Pixel.gif" alt="" width="27" height="1"></td>
								<td class="n"><a href="/web/20020918112651/http://ai-depot.com/Knowledge.html">KNOWLEDGE</a></td>
								<td class="p" height="21"><img src="/web/20020918112651im_/http://ai-depot.com/Images/Pixel.gif" alt="" width="27" height="1"></td>
								<td class="n"><a href="/web/20020918112651/http://ai-depot.com/Search/">SEARCH</a></td>
								<td style="background-color: #999961; background-image: url(&quot;/web/20020918112651im_/http://ai-depot.com/Images/Slash-line.png&quot;); width: 50%;">&nbsp;</td>
			</tr>
			<tr>
				<td colspan="8" class="f">
					<table border="0" cellpadding="0" cellspacing="0">
					<tr><td class="d">
						<a href="https://web.archive.org/web/20020918112651/http://ai-depot.com/Contest">Get Creative: AI Article Writing Contest</a>
						<div>Fancy the chance of getting developer focus, improving your research skills, sharing your artificial intelligence ideas, obtaining expert feedback, getting published online AND winning a prize?<br><span>Enter the <a href="https://web.archive.org/web/20020918112651/http://ai-depot.com/Contest/">AI Article Writing Contest!</a></span></div>
					</td><td class="i">
						<a href="https://web.archive.org/web/20020918112651/http://ai-depot.com/Contest"><img src="https://web.archive.org/web/20020918112651im_/http://ai-depot.com/Images/Adlets/Writing.png" alt=""></a>
					</td></tr>
					</table>
				</td>
			</tr>
			</table>
			</td></tr>
		</table>
	</td></tr>
</table>


<table cellspacing="0" cellpadding="0" border="0" class="menu">

<tr><td style="width: 129px; vertical-align: top;">

	<table cellspacing="0" cellpadding="0" border="0" style="width: 100%; background-color: #404040; border-width: 1px 1px 1px 0; border-color: #c0c0c0; border-style: solid;">
	<tr><td class="c">FEATURES</td></tr>
	<tr><td class="s">
		<a href="/web/20020918112651/http://ai-depot.com/Features/News.html">news</a> +<br>
		<a href="/web/20020918112651/http://ai-depot.com/Features/Essays.html">essays</a> +<br>
		<a href="/web/20020918112651/http://ai-depot.com/Features/Tutorials.html">tutorials</a> +<br>
		<a href="/web/20020918112651/http://ai-depot.com/Features/Reviews.html">reviews</a> +<br>
		<a href="/web/20020918112651/http://ai-depot.com/Features/Information.html">information</a> +<br>
	</td></tr>

	<tr><td class="c">COMMUNITY</td></tr>
	<tr><td class="s">
		<a href="/web/20020918112651/http://ai-depot.com/Messages/">message store</a> +<br>
		<a href="/web/20020918112651/http://ai-depot.com/Messages/Recent.html">recent activity</a> +<br>
		<a href="https://web.archive.org/web/20020918112651/http://foundry.ai-depot.com/">project foundry</a> +<br>
		<a href="/web/20020918112651/http://ai-depot.com/Community/Contribute.html">contribute</a> +<br>
		<a href="/web/20020918112651/http://ai-depot.com/Community/Hosted.html">hosted sites</a> +<br>
	</td></tr>

	<tr><td class="c">KNOWLEDGE</td></tr>
	<tr><td class="s">
		<a style="font-size: 7pt; " href="/web/20020918112651/http://ai-depot.com/Intro.html">artificial intelligence</a> +<br>
		<a href="https://web.archive.org/web/20020918112651/http://neuralnetworks.ai-depot.com/">neural networks</a> +<br>
		<a href="https://web.archive.org/web/20020918112651/http://geneticalgorithms.ai-depot.com/">genetic algorithms</a> +<br>
		<a style="font-size: 7pt; " href="https://web.archive.org/web/20020918112651/http://reinforcementlearning.ai-depot.com/">reinforcement learning</a> +<br>
	</td></tr>

	<tr><td class="c">THIS SITE</td></tr>
	<tr><td class="s">
		<a href="/web/20020918112651/http://ai-depot.com/Site/Welcome.html">welcome</a> +<br>
		<a href="/web/20020918112651/http://ai-depot.com/Search/">site search</a> +<br>
		<a href="/web/20020918112651/http://ai-depot.com/Site/Link.html">link to us</a> +<br>
	</td></tr>

	<tr><td style="font-size: 16px;">&nbsp;</td></tr>

	</table>

	<table style="background-color: #000000; width: 100%;">
	<tr><td>&nbsp;</td></tr>
	</table>

</td>

<td class="content">

<h1>Background</h1>

<div class="nav"> 
<div class="left">
Previous: <a href="FSM.html">Finite State Machines (FSM)</a><br>
<a href="FSM.html"><img src="/web/20020918112651im_/http://ai-depot.com/Images/Nav-left.png" alt=""></a>
<a href="FSM-Background.html"><img src="/web/20020918112651im_/http://ai-depot.com/Images/Nav-middle.png" alt=""></a>
<a href="FSM-Practical.html"><img src="/web/20020918112651im_/http://ai-depot.com/Images/Nav-right.png" alt=""></a>
<a href="FSM-Framework.html"><img src="/web/20020918112651im_/http://ai-depot.com/Images/Nav-right.png" alt=""></a>
<a href="FSM-Conclusion.html"><img src="/web/20020918112651im_/http://ai-depot.com/Images/Nav-right.png" alt=""></a>
</div>
<div class="right">
<span style="color: #c0c080; font-style: italic;">Finite State Machines (FSM)</span><br>
<span style="color: #808080;">Jason Brownlee</span>
</div></div>

<div class="page">

<p><span class="f">F</span>inite State Machines (FSM), also known as Finite State Automation (FSA), at their simplest, are models of the behaviors of a system or a complex object, with a limited number of defined conditions or modes, where mode transitions change with circumstance.</p>

<p><span class="f">F</span>inite state machines consist of 4 main elements:</p>
<ul>
<li>states which define behavior and may produce actions</li>
<li>state transitions which are movement from one state to another</li>
<li>rules or conditions which must be met to allow a state transition</li>
<li>input events which are either externally or internally generated, which may possibly trigger rules and lead to state transitions</li>
</ul>

<p><span class="f">A</span> finite state machine must have an initial state which provides a starting point, and a current state which remembers the product of the last state transition. Received input events act as triggers, which cause an evaluation of some kind of the rules that govern the transitions from the current state to other states. The best way to visualize a FSM is to think of it as a flow chart or a directed graph of states, though as will be shown; there are more accurate abstract modeling techniques that can be used.</p>

<p class="desc"><u>Figure 1.1</u>: A possible finite state machine control system implementation</p>
<img style="float: none;" src="/web/20020918112651im_/http://ai-depot.com/FiniteStateMachines/FSM1.png" alt="Finite State Machine">

<p><span class="f">F</span>SM is typically used as a type of control system where knowledge is represented in the states, and actions are constrained by rules.</p>

<p class="desc">"...One of the most fascinating things about FSMs is that the very same design techniques can be used for designing Visual Basic programs, logic circuits or firmware for a microcontroller. Many computers and microprocessor chips have, at their hearts, a FSM."<sup><a href="#[1]">[1]</a></sup></p>

<p><span class="f">F</span>inite state machines are an adopted artificial intelligence technique which originated in the field of mathematics, initially used for language representation. It is closely related to other fundamental knowledge representation techniques which are worth mentioning, such as semantic networks <sup><a href="#[5]">[5]</a></sup> and an extension of semantic networks called state space <sup><a href="#[5]">[5]</a></sup>.</p>

<p><span class="f">S</span>emantic networks were proposed to represent meaning and relationships of English words. A graph is constructed where nodes represent concepts and edges the relationships. State space is an extension on the idea of semantic networks, where a node denotes a valid state and the edges transitions between states. State space, unlike FSM, requires both an initial state and a goal state, and is typically used in problem solving domains where a sequence of actions is required for solving the overall problem (sequence from initial to goal states). Like FSM, state space has rules which constrain state transitions, and are triggered by input events.</p>

<p><span class="f">L</span>ike any rule based systems, if all the antecedent(s) of a rule are true, then the rule is triggered. It is possible for multiple rules to be triggered, and in the area of reasoning systems, this is called a conflict set. There can only be one transition from the current state, so a consistent conflict resolution strategy is required to select only one of the triggered rules to fire and thus performing a state transition.</p>

<p><span class="f">T</span>his brings us to two main types of FSM. The original simple FSM is what’s known as deterministic, meaning that given an input and the current state, the state transition can be predicted. An extension on the concept at the opposite end is a non-deterministic finite state machine. This is where given the current state; the state transition is not predictable. It may be the case that multiple inputs are received at various times, means the transition from the current state to another state cannot be known until the inputs are received (event driven).</p>

<p><span class="f">A</span>n implementation of a deterministic finite state machine may see the firing of the first rule that is triggered. This may be ideal for many problem domains, but for computer games, easily predictable behavior is usually not a wanted feature as it tends to remove the "fun-factor" in the game.</p>

<p class="desc">"...a player feels like they are playing against a realistic simulation of intelligence, and not against a reproduction of a sequence of actions." <sup><a href="#[2]">[2]</a></sup></p>

<p><span class="f">T</span>he "sequence" which is one of the key benefits of FSM, should not be blindingly obvious in computer games. There are a number of extensions to FSM and workarounds for "mixing up" the sequence to make it harder to predict actions. One of these non-deterministic approaches involves the application of another proven artificial intelligence technique; Fuzzy Logic, called Fuzzy State Machines (FuSM).</p>

<p><span class="f">J</span>ust like finite state machines there is a lot of flexibility when implementing a fuzzy state machine. A fuzzy value can be applied to various state transitions. When a conflict set is encountered the higher the fuzzy value for a transition, the higher the likelihood of the state transition. This allows the specification of a fuzzy priority to state transitions.</p>

<p><span class="f">A</span>n implementation of FuSM may involve the assignment of fuzzy values to various inputs to represent the degree an input is defined. The fuzzy system would use these weighted input values in the evaluation of rules, triggering only state transitions whose assessed value is above a specified threshold.</p>

<p><span class="f">A</span>nother approach for converting a deterministic FSM into a non-deterministic FSM would be to simply use a random number generator to select a triggered rule. It may not be necessary to implement a deterministic finite state machine to have a perceived level of unpredictability. This can be achieved by a system or object that has a large number of defined states and a complex mesh of transitions, giving the appearance of being unpredictable.</p>

<p><span class="f">I</span>t is important to understand the difference between a state and an action. When designing a computer program, larger functionality are decomposed into a number of smaller actions or activities. This is done so that each can be defined in a function, making the overall solution modular, and easier to maintain. FSM is similar in that it’s a decomposition of the behaviors of a system or object, and even a state can be decomposed into sub-states. The difference is a state may involve one or more actions.</p>

<p class="desc"><u>Example 1:</u> a moveUnit() action may be used by both the evadeEnemy state and the attackEnemy state.</p>

<p class="desc"><u>Example 2:</u> the evadeEnemy state may consist of many actions, some evaluations, some movement directives, and some actions which can change the entities own state. If the entity was cornered for example, there may be a state transition from evadeEnemy to attackEnemy, where the act of being cornered is the trigger.</p>

<p><span class="f">T</span>he best way I like to think of the terms is an action is an activity that accomplishes something like an evaluation or a movement, and a state is a collection of actions that are used when in a particular mode. A state is the circumstance of a thing, its condition, and the actions are the attributes of that state. It provides the ability to limit the scope of actions or the amount of knowledge to only that required for the current state.</p>

<p><span class="f">T</span>here are two main methods for handling where to generate the outputs for a finite state machine. They are called a Moore Machine and a Mearly Machine, named after their respective authors.</p>
<p><span class="f">A</span> Moore Machine is a type of finite state machine where the outputs are generate as products of the states. In the below example the states define what to do; such as apply power to the light globe.</p>

<p class="desc"><u>Figure 1.2</u>: A light system example of a Moore Machine</p>
<img style="float: none;" src="/web/20020918112651im_/http://ai-depot.com/FiniteStateMachines/FSM2.png">

<p><span class="f">A</span> Mearly Machine, unlike a Moore Machine is a type of finite state machine where the outputs are generated as products of the transition between states. In below example the light is affected by the process of changing states.</p>

<p class="desc"><u>Figure 1.3</u>: A light system example of a Mearly Machine</p>
<img style="float: none;" src="/web/20020918112651im_/http://ai-depot.com/FiniteStateMachines/FSM3.png">

<p><span class="f">F</span>inite state machines is not a new technique, it has been around for a long time. The concept of decomposition should be familiar to people with programming or design experience. There are a number of abstract modeling techniques that may help or spark understanding in the definition and design of a finite state machine, most come from the area of design or mathematics.</p>
<ul>
<li><u>State Transition Diagram:</u> also called a bubble diagram, shows the relationships between states and inputs that cause state transitions <sup><a href="#[1]">[1]</a></sup></li>
<li><u>State-Action-Decision Diagram:</u> simply a flow diagram with the addition of bubbles that show waiting for external inputs <sup><a href="#[1]">[1]</a></sup></li>
<li><u>Statechart Diagrams:</u> a form of UML notation used to show behavior of an individual object as a number of states, and transitions between those states. <sup><a href="#[3]">[3]</a></sup></li>
<li><u>Hierarchical Task Analysis (HTA):</u> though it does not look at states, HTA is a task decomposition technique that looks at the way a task can be split into subtasks, and the order in which they are performed <sup><a href="#[4]">[4]</a></sup></li>
</ul>

<h3>Advantages of FSM</h3>
<ul>
<li>Their simplicity make it easy for inexperienced developers to implement with little to no extra knowledge (low entry level)</li>
<li>Predictability (in deterministic FSM), given a set of inputs and a known current state, the state transition can be predicted, allowing for easy testing</li>
<li>Due to their simplicity, FSMs are quick to design, quick to implement and quick in execution</li>
<li>FSM is an old knowledge representation and system modeling technique, and its been around for a long time, as such it is well proven even as an artificial intelligence technique, with lots of examples to learn from</li>
<li>FSMs are relatively flexible. There are a number of ways to implement a FSM based system in terms of topology, and it is easy to incorporate many other techniques</li>
<li>Easy to transfer from a meaningful abstract representation to a coded implementation</li>
<li>Low processor overhead; well suited to domains where execution time is shared between modules or subsystems. Only the code for the current state need be executed, and perhaps a small amount of logic to determine the current state.</li>
<li>Easy determination of reachability of a state, when represented in an abstract form, it is immediately obvious whether a state is achievable from another state, and what is required to achieve the state</li>
</ul>

<h3>Disadvantages of FSM</h3>
<ul>
<li>The predictable nature of deterministic FSMs can be unwanted in some domains such as computer games (solution may be non-deterministic FSM).</li>
<li>Larger systems implemented using a FSM can be difficult to manage and maintain without a well thought out design. The state transitions can cause a fair degree of "spaghetti- factor" when trying to follow the line of execution</li>
<li>Not suited to all problem domains, should only be used when a systems behavior can be decomposed into separate states with well defined conditions for state transitions. This means that all states, transitions and conditions need to be known up front and be well defined</li>
<li>The conditions for state transitions are ridged, meaning they are fixed (this can be over come by using a Fuzzy State Machine (FuSM))</li>
</ul>

<p><span class="f">L</span>ike most techniques, heuristics for when and how to implement finite state machines are subjective and problem specific. It is clear that FSMs are well suited to problems domains that are easily expressed using a flow chart and possess a set of well defined states and rules to govern state transitions.</p>

<p><span class="f">F</span>or a broader discussion of finite state machines I recommend you read; Finite State Machines - Making simple work of complex functions <sup><a href="#[1]">[1]</a></sup></p>

<p class="thread">Remember you can visit the <i>Message Store</i> to <a href="https://web.archive.org/web/20020918112651/http://artificialintelligence.ai-depot.com/ArtificialIntelligence/576.html">discuss this tutorial</a>.  
There are already <b>6</b> replies in the thread, why not join in?
</p>

<div class="nav" style="text-align: right;">
<a href="FSM.html"><img src="/web/20020918112651im_/http://ai-depot.com/Images/Nav-left.png" alt=""></a>
<a href="FSM-Background.html"><img src="/web/20020918112651im_/http://ai-depot.com/Images/Nav-middle.png" alt=""></a>
<a href="FSM-Practical.html"><img src="/web/20020918112651im_/http://ai-depot.com/Images/Nav-right.png" alt=""></a>
<a href="FSM-Framework.html"><img src="/web/20020918112651im_/http://ai-depot.com/Images/Nav-right.png" alt=""></a>
<a href="FSM-Conclusion.html"><img src="/web/20020918112651im_/http://ai-depot.com/Images/Nav-right.png" alt=""></a><br>Next: <a href="FSM-Practical.html">Practical Analysis</a>
</div>

<p class="brown">Back to the <a href="https://web.archive.org/web/20020918112651/http://ai-depot.com/">Artificial Intelligence Depot</a>.<p>
</div>
 

</td></tr>
</table>


</div>

<div class="footer">
<a href="https://web.archive.org/web/20020918112651/http://ai-depot.com/" title="Artificial Intelligence Depot"><img src="/web/20020918112651im_/http://ai-depot.com/Images/Logo-footer.png" alt="Artificial Intelligence" title="Artificial Intelligence" style="margin: 12px; border: 0;"></a><br>

This page and its content are &copy; Copyright 2001-2002, Artificial Intelligence Depot.  All rights reserved.<br>
Site owned and maintained by Alex J. Champandard.
</div>

</body>

</html>
<!--
     FILE ARCHIVED ON 11:26:51 Sep 18, 2002 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 20:09:16 Jul 15, 2023.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 170.377
  exclusion.robots: 0.208
  exclusion.robots.policy: 0.196
  cdx.remote: 0.093
  esindex: 0.01
  LoadShardBlock: 136.843 (3)
  PetaboxLoader3.datanode: 216.52 (4)
  load_resource: 127.826
  PetaboxLoader3.resolve: 38.993
-->